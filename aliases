##
# for unix
##

alias d="date '+%Y%m%d'"

if [ -x ~/bin/emacs ]; then
  alias emacs="~/bin/emacs"
  alias ec="emacsclient"
fi

if [ -x ~/Applications/Emacs.app ]; then
  alias emacs="~/Applications/Emacs.app/Contents/MacOS/Emacs -nw -l ~/.emacs.d/init.el --name '`pwd`'"
  alias ec="~/Applications/Emacs.app/Contents/MacOS/Emacs/bin/emacsclient"
fi

if [ -x /Applications/Emacs.app ]; then
  alias emacs="/Applications/Emacs.app/Contents/MacOS/Emacs -nw -l ~/.emacs.d/init.el --name '`pwd`'"
  alias ec="/Applications/Emacs.app/Contents/MacOS/Emacs/bin/emacsclient"
fi

alias l="COLUMNS=12 ls -GFh"
alias lm="ls -mF"
alias ls="ls -GhF"
alias ll="ls -lGhF"
alias la="ls -laGhF"
alias dir="ls -asGhF"
alias lf="echo '`ls -1 | wc -l` files'; disall"

alias du="du -hsk"
alias dis="du -sk ./"

alias pwdcp="pwd | pbcopy"
alias conns="sudo lsof -i"
alias makejobs="grep '[a-z]+\:' Makefile"

##
# for cvs
##

alias cvs="/usr/bin/env cvs"                        # gotz two bee yous'n mah compilation
alias cvsnews="cvs diff --brief 2>/dev/null|grep 'Index'|cut -d ':'  -f 2|cut -d ' ' -f 2"
alias cvsconf="cvs -n up 2>/dev/null | grep C"      # up'n be conflict'n mah tree
alias cvsknow="cvs -qn up 2>/dev/null | grep '?'"   # cvs ain't bee know'n dee's filez
alias cvsdown="cvs -qn up 2>/dev/null | grep 'U'"   # dee's filez oh up dah stream
alias cvsdiff="cvs diff ./ | vim"                   # current dir bee diff'n'color

##
# for svn
##

alias svndiff="svn diff | mate"
alias svnnews="svn status -u | grep /(A|M)/"
alias svnknow="svn status -u|grep A|grep -v CVS"
alias svnmiss="svn status -u | grep [\?\!]"
alias svninfo="svn status | awk '{print \$2}' | xargs svn info | less"

alias rmdsstores="find ./ -type f|grep .DS_Store|xargs rm"

##
# for ruby/rails
##

alias sc="ruby script/console"
alias sg="ruby script/generate"
alias sp="ruby script/plugin"

alias tld="tail -f log/development.log"
alias tlp="tail -f log/production.log"
alias tlt="tail -f log/test.log"

alias thins='ps aux | grep thin | grep -v grep'
alias fl="find . -name \*.rb | xargs flog"

alias rrg="rake routes | grep $1"

alias curlx='curl -v -H "X_REQUESTED_WITH: XMLHttpRequest"'

alias rake='noglob rake'

alias vbox='VBoxManage'

##
# for specing/testing
##

alias tt="RAILS_ENV='test' autospec"

alias srp="spec -c -f progress spec/"
alias sro="spec -c -f profile spec/"
alias srs="spec -c -f progress spec/"
alias srn="spec -c -f nested spec/"
alias srr="spec -c -f html spec/"
alias srf="spec -c -f specdoc $1"
alias srj="rake spec:javascripts"
alias frf="rake features"
alias ara="AUTOFEATURE=true autotest"
alias cover="rb script/spec -c spec --format html:./current_coverage.html --diff"

alias ssm='spec spec/models/$1 --format specdoc -c'
alias ssc='spec spec/controllers/$1 --format specdoc -c'
alias ssv='spec spec/views/$1 --format specdoc -c'

##
# for rubygems
##

alias gis="sudo gem install $1 --no-ri"
alias gun="sudo gem uninstall $1"
alias gup="sudo gem update $1 --no-ri"
alias gll="gem search -l | sed 's/(.*)\(.*\)/ /' | sed '/./!d' | sed '/^.*LOCAL.*$/d'"

alias rgup="gem update $1 --no-ri --no-rdoc"
alias rgun="gem uninstall $1"
alias rgis="gem install $1 --no-ri --no-rdoc"
alias rgsl="gem search $1 -l"
alias rgsr="gem search $1 -r"

alias egsl="/usr/local/rubyee/bin/ruby /usr/local/rubyee/bin/gem search $1 -l"
alias egis="sudo /usr/local/rubyee/bin/ruby /usr/local/rubyee/bin/gem install $1"
alias egun="sudo /usr/local/rubyee/bin/ruby /usr/local/rubyee/bin/gem uninstall $1"
alias egup="sudo /usr/local/rubyee/bin/ruby update $1"

##
# for growl
##

alias myip='ifconfig | grep "inet " | grep -v 127.0.0.1 | cut -d\  -f2 | growlnotify'

##
# for pgres
## 

if [ -x /Library/PostgreSQL/8.3/bin/pg_ctl ]; then
  alias pg_start='sudo -u postgres /Library/PostgreSQL/8.3/bin/pg_ctl -D /Library/PostgreSQL/8.3/data start'
  alias pg_stop='sudo -u postgres /Library/PostgreSQL/8.3/bin/pg_ctl -D /Library/PostgreSQL/8.3/data stop'
  alias pg_restart='sudo -u postgres /Library/PostgreSQL/8.3/bin/pg_ctl -D /Library/PostgreSQL/8.3/data restart'
  alias pg_reload='sudo -u postgres /Library/PostgreSQL/8.3/bin/pg_ctl -D /Library/PostgreSQL/8.3/data reload'
fi

##
# for mysql
##

alias db_time="echo `date \"+%Y%m%d%H%M%S\"`"
alias dumptj="mysqldump -u root tweety_jobs_development > /Users/justin/Development/db/tweety_jobs_development-`db_time`.sql"


##
# darwin/os x
##

alias fdns="dscacheutil -flushcache"
alias psg="ps aux | grep $1"

if [ $platform = "osx" ]; then
  alias psm="ps auxm | head"
elif [ $platform = "linux" ]; then
  alias psm="ps aux --sort -rss | head"
fi

alias allcron="for user in $(cut -f1 -d: /etc/passwd); do sudo crontab -u $user -l; done"
